<!DOCTYPE html>
<html lang="ja">

<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-DWZZEMF9ML"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'G-DWZZEMF9ML');
    </script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UGOKU One ユーザーガイド</title>
    <link href="styles/main.css" rel="stylesheet" type="text/css">
    <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://kit.fontawesome.com/cbd15fcef1.js" crossorigin="anonymous"></script>
</head>

<body>

    <!-- ヘッダー部分：サイトのタイトルとソーシャルリンクを表示 -->
    <header class="header">
        <a href="index.html">
            <h1>UGOKU Lab</h1>
        </a>
        <!-- ソーシャルアイコン：TwitterとGitHubへのリンク -->
        <div class="social-icons">
            <a href="https://twitter.com/UGOKU_Lab" target="_blank" title="Twitter"><i
                    class="fa-brands fa-x-twitter"></i>
                <a href="https://github.com/UGOKU-Lab" target="_blank" title="GitHub"><i class="fab fa-github"></i></a>
        </div>
    </header>

    <!-- メインコンテンツのコンテナ：ページの幅を制限して中央揃え -->
    <div class="content-container">
        <h1>UGOKU One ユーザーガイド</h1>

        <nav class="toc" aria-label="目次">
            <h3 style="margin-top:0; border-bottom:none;">目次</h3>
            <ul>
                <li><a href="#start-guide">スタートガイド</a>
                    <ul>
                        <li><a href="#sample-program-flash">サンプルプログラムの書き込み</a></li>
                        <li><a href="#ugoku-pad-setup">UGOKU Padの準備と操作</a></li>
                    </ul>
                </li>
                <li><a href="#power-and-actuators">電源入力とアクチュエータ出力</a>
                    <ul>
                        <li><a href="#power-overview">概要</a></li>
                        <li><a href="#power-selection">電源選択</a></li>
                        <li><a href="#power-input">電源入力</a></li>
                        <li><a href="#servo-output">サーボモータ出力</a></li>
                        <li><a href="#dc-motor-output">DCモータ出力</a></li>
                        <li><a href="#fet-output">FET出力</a></li>
                    </ul>
                </li>
                <li><a href="#imu-section">IMU</a></li>
            </ul>
        </nav>

        <h2 id="start-guide">スタートガイド</h2>
        <h3 id="sample-program-flash">サンプルプログラムの書き込み</h3>

        <style>
            /* Local styles for the step-by-step guide */
            .prerequisite-section {
                background-color: #f9f9f9;
                border-left: 4px solid var(--primary-color);
                padding: 15px 20px;
                margin-bottom: 30px;
                border-radius: 4px;
            }

            .prerequisite-title {
                margin-top: 0;
                margin-bottom: 10px;
                font-weight: bold;
                color: var(--text-main);
            }

            .prerequisite-list {
                margin: 0;
                padding-left: 20px;
                color: var(--text-main);
            }

            .prerequisite-list li {
                margin-bottom: 5px;
            }

            .download-link {
                display: inline-block;
                color: var(--primary-color);
                font-weight: bold;
                margin-top: 10px;
                text-decoration: none;
            }

            .download-link:hover {
                text-decoration: underline;
            }

            .steps-container {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 20px;
                margin-top: 10px;
                align-items: start;
            }

            .step-card {
                background: #fff;
                border: 1px solid #e0e0e0;
                border-radius: 8px;
                padding: 20px;
                height: 100%;
                /* Uniform height */
                box-sizing: border-box;
                /* Subtle shadow for depth */
                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.03);
            }

            .step-header {
                display: flex;
                align-items: center;
                gap: 10px;
                margin-bottom: 12px;
                border-bottom: 1px solid #eee;
                padding-bottom: 10px;
            }

            .step-number {
                background-color: var(--primary-color);
                color: #fff;
                width: 24px;
                height: 24px;
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                font-weight: bold;
                font-family: 'Quicksand', sans-serif;
                flex-shrink: 0;
                font-size: 0.9em;
            }

            .step-title {
                margin: 0;
                font-size: 1.05em;
                font-weight: bold;
                color: var(--text-main);
                line-height: 1.3;
            }

            .step-content {
                color: var(--text-main);
            }

            .step-content p {
                margin-top: 0;
            }

            /* Grid for side-by-side images within a step card */
            .step-grid-2 {
                display: grid;
                grid-template-columns: 1fr 1fr;
                /* Default to side-by-side even in narrow col if space permits, or stack via flex? Card is narrow now. */
                gap: 10px;
                margin-top: 10px;
            }

            /* Responsive adjustments */
            @media (max-width: 900px) {

                /* Stack main steps on tablets/mobile */
                .steps-container {
                    grid-template-columns: 1fr;
                    gap: 30px;
                }
            }

            /* Inner grid (Step 2/3 images) adjustments for narrow columns */
            @media (min-width: 901px) {

                /* In 3-column layout, the cards are narrow. Stack images inside the cards if needed or keep side-by-side distinct. 
                    Let's stack them inside the card to avoid squishing if it's too narrow, or keep 1fr 1fr if icons are small. 
                    Step 2 images are icons, Step 3 are screenshots. Let's make Step 3 stack in 3-col view. */
                .step-grid-2 {
                    grid-template-columns: 1fr;
                    /* Stack images inside the card when in 3-col mode */
                }
            }

            /* When full width (mobile), side-by-side might be ok for icons */
            @media (max-width: 900px) {
                .step-grid-2 {
                    grid-template-columns: 1fr 1fr;
                }
            }

            @media (max-width: 500px) {
                .step-grid-2 {
                    grid-template-columns: 1fr;
                }
            }

            .step-image-group {
                text-align: center;
                display: flex;
                flex-direction: column;
                align-items: center;
            }

            .step-image-group img {
                width: auto;
                /* Override main.css width:100% */
                max-width: 100%;
                max-height: 350px;
                border: 1px solid #eee;
                border-radius: 4px;
                /* Soften edges */
            }

            .step-content>img {
                width: auto;
                max-width: 100%;
                margin: 10px auto 0;
                display: block;
                max-height: 400px;
            }

            .step-image-caption {
                font-size: 0.9em;
                color: var(--text-sub);
                margin-bottom: 8px;
                display: block;
                font-weight: bold;
            }

            /* Reuse existing app badge styles */
            .app-badges-center {
                display: flex;
                gap: 15px;
                justify-content: center;
                margin-top: 15px;
                margin-bottom: 20px;
                flex-wrap: wrap;
            }

            .step-image-container-single {
                margin: 20px 0;
                text-align: center;
            }

            .step-image-container-single img {
                max-width: 100%;
                height: auto;
                max-height: 400px;
            }

            .annotation-mark {
                font-size: 0.75em;
                vertical-align: super;
            }
        </style>

        <!-- Prerequisites Box -->
        <div class="prerequisite-section">
            <h4 class="prerequisite-title">準備するもの</h4>
            <ul class="prerequisite-list">
                <li>UGOKU One 本体</li>
                <li>Arduino IDEをインストールしたPC (<a href="https://www.arduino.cc/en/software" target="_blank">インストールはこちら</a>)
                </li>
                <li>USB Type-C ケーブル</li>
                <li>
                    <a href="https://github.com/UGOKU-Lab/UGOKU-One_Arduino_sample_for_UGOKU-Pad/archive/refs/heads/main.zip"
                        class="download-link">
                        <i class="fas fa-download"></i> サンプルプログラムをダウンロード (ZIP)
                    </a>
                </li>
            </ul>
        </div>

        <div class="steps-container">
            <!-- Step 1 -->
            <div class="step-card">
                <div class="step-header">
                    <span class="step-number">1</span>
                    <h4 class="step-title">ESP32ボードのインストール</h4>
                </div>
                <div class="step-content">
                    <p>Arduino IDEの <strong>BOARD MANAGER</strong> (ボードマネージャ) を開き、<strong>esp32</strong>
                        を検索してインストールしてください。</p>
                    <img src="images/UGOKU-Pad/Board-Manager.png" alt="Board Manager screenshot" class="img-responsive">
                </div>
            </div>

            <!-- Step 2 -->
            <div class="step-card">
                <div class="step-header">
                    <span class="step-number">2</span>
                    <h4 class="step-title">ライブラリのインストール</h4>
                </div>
                <div class="step-content">
                    <p><strong>LIBRARY MANAGER</strong> (ライブラリマネージャ) で以下の2つをインストールしてください。</p>
                    <div class="step-grid-2">
                        <div class="step-image-group">
                            <span class="step-image-caption">1. UGOKU-Pad</span>
                            <img src="images/UGOKU-Pad/UGOKU-Pad_Arduino-lib.png" alt="UGOKU Pad Arduino Library"
                                class="img-responsive">
                        </div>
                        <div class="step-image-group">
                            <span class="step-image-caption">2. ESP32Servo</span>
                            <img src="images/UGOKU-Pad/ESP32Servo.png" alt="Library Manager screenshot"
                                class="img-responsive">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Step 3 -->
            <div class="step-card">
                <div class="step-header">
                    <span class="step-number">3</span>
                    <h4 class="step-title">書き込み設定 (COMポートとボード選択)</h4>
                </div>
                <div class="step-content">
                    <p>UGOKU OneをPCに接続し、以下の手順で設定を行います。</p>

                    <div style="margin-bottom: 25px; text-align: center;">
                        <span class="step-image-caption">1. デバイスマネージャーでCOMポートを確認 (Silicon Labs... がUGOKU
                            Oneのポートです)</span>
                        <img src="images/UGOKU-Pad/Device-Manager.png" alt="Device Manager" class="img-responsive">
                    </div>

                    <div class="step-grid-2">
                        <div class="step-image-group">
                            <span class="step-image-caption">2. Arduino IDEでポートを選択</span>
                            <img src="images/UGOKU-Pad/Device-Selection.png" alt="Device Selection"
                                class="img-responsive">
                        </div>
                        <div class="step-image-group">
                            <span class="step-image-caption">3. ボード「ESP32 Dev Module」を選択</span>
                            <img src="images/UGOKU-Pad/board-selection.jpg" alt="Board Selection screenshot"
                                class="img-responsive">
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <h3 style="margin-top: 50px;" id="ugoku-pad-setup"><i class="fas fa-mobile-alt"></i> UGOKU Padの準備と操作</h3>
        <p>スマートフォンから UGOKU One を操作します。</p>

        <h4>1. アプリ入手</h4>
        <p><strong>UGOKU Pad</strong> をインストールしてください。</p>
        <div class="app-badges-center">
            <a href="https://play.google.com/store/apps/details?id=com.ugoku_lab.ugoku_console&hl=ja" target="_blank">
                <img src="images/button/google-play-badge.png" alt="Google Play" style="height: 48px;">
            </a>
            <a href="https://apps.apple.com/jp/app/ugoku-pad/id6739496098" target="_blank">
                <img src="images/button/Download_on_the_App_Store_Badge_US-UK_RGB_blk_092917.svg" alt="App Store"
                    style="height: 48px;">
            </a>
        </div>

        <h4>2. 接続</h4>
        <div class="step-image-container-single">
            <img src="images/UGOKU-Pad/sample-useage.png" alt="アプリ操作" class="img-responsive">
        </div>
        <p>
            1. アプリを起動し <strong>Console > Sample: UGOKU One</strong> を選択<br>
            2. <strong>Scan</strong> ボタンを押し、リストから <strong>UGOKU One</strong> を選択<br>
            3. 操作画面が表示されたら接続成功です！
        </p>

        <h2 id="power-and-actuators">電源入力とアクチュエータ出力</h2>
        <h3 id="power-overview">概要</h3>
        <!-- 画像とテキストを横並びに配置：左に画像、右に説明文 -->
        <div class="display-flex cols-40-60 flex-start">
            <div class="col">
                <img src="images/UGOKU-One/UGOKU-One_power-and-actuator.png" alt="電源入力とアクチュエータ出力"
                    class="img-responsive">
            </div>
            <div class="col" style="min-width:240px;">
                <ul>
                    <li>UGOKU One への電源入力は主に<span class="orange-highlight">単4電池</span>、<span
                            class="orange-highlight">USB接続</span>、<span class="orange-highlight">外部電源入力</span> の3系統があります
                    </li>
                    <li><span class="orange-highlight">単4電池</span>と<span
                            class="orange-highlight">USB接続</span>はダイオードを介して<span
                            class="orange-highlight">5V系統</span>に接続されています</li>
                    <li><span class="orange-highlight">外部電源入力</span>はDC-DCコンバータとダイオードを介して<span
                            class="orange-highlight">5V系統</span>に接続されています</li>
                    <li><span class="orange-highlight">単4電池</span>の電源は<span
                            class="orange-highlight">単4電池電源スイッチ</span>でオン/オフが可能です</li>
                </ul>
                <!-- 画像を親要素の幅いっぱいに広げる -->
                <img src="images/UGOKU-One/UGOKU-One_power-diagram.png" alt="電源入力とアクチュエータ出力図" class="img-responsive">
            </div>
        </div>
        <h3 id="power-selection">電源選択</h3>
        <div class="display-flex cols-40-60 flex-start" style="margin-top:12px;">
            <div class="col">
                <img src="images/UGOKU-One/UGOKU-One_power-selection.png" alt="DCモータドライバブロック図" class="img-responsive">
            </div>
            <div class="col" style="min-width:240px;">
                <p>ピンヘッダ上のジャンパの位置を変えることでアクチュエータを駆動する電力源を選択できます。</p>
                <ul>
                    <li>アクチュエータに供給する電力は<span class="orange-highlight">5V系統</span>と<span
                            class="orange-highlight">外部電源入力</span>の2つから選択できます</li>
                    <li>サーボモータ出力と<span class="orange-highlight">DCモータ/FET出力</span>に供給する系統をそれぞれ独立して選択が可能です</li>
                    <li>アクチュエータを<span class="orange-highlight">単4電池</span>を含む<span
                            class="orange-highlight">5V系統</span>で駆動する場合はジャンパを左側に挿します</li>
                    <li><span class="orange-highlight">外部電源入力</span>の電力で直接駆動する場合はジャンパを右側に挿します</li>
                </ul>
            </div>
        </div>
        <h3 id="power-input">電源入力</h3>
        <div class="steps-container">
            <!-- AAA Battery Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title">単4電池</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_bottom-side.png" alt="単4電池" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block; border: 1px solid #eee; border-radius: 4px;">
                    <p>単4電池は4本直列で使用します。電池ホルダは基板に実装済みです。</p>
                </div>
            </div>

            <!-- USB Connection Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title">USB接続</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_USB_INPUT.png" alt="USB接続" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block; border: 1px solid #eee; border-radius: 4px;">
                    <p>USB接続は5V電源を供給します。PCやUSB充電器から給電可能です。</p>
                </div>
            </div>

            <!-- External Power Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title">外部電源入力</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_External-Power_INPUT.png" alt="外部電源入力" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block; border: 1px solid #eee; border-radius: 4px;">
                    <p>外部電源入力は7〜24Vの直流電源を接続できます。2ピン端子台に接続します。<br>
                        <strong>逆接しないように注意してください。</strong>
                    </p>
                </div>
            </div>
        </div>

        <h3>アクチュエータ出力</h3>
        <div class="steps-container">
            <!-- Servo Motor Output Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title" id="servo-output">サーボモータ出力</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_with_Servo.png" alt="サーボモータ出力端子図" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block;">
                    <p>サーボモータ用の電源出力端子です。</p>
                    <p>最大4つのサーバモーターを接続できます。<br>
                        15ピンと26ピンは汎用I/Oポートと共有になっているので、一緒に使わないでください。</p>
                </div>
            </div>

            <!-- DC Motor Output Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title" id="dc-motor-output">DCモータ出力</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_with_Motor.png" alt="DCモータ出力端子図" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block;">
                    <p>モータドライブICTB67H303HGを2個搭載しています。<br>
                        260クラス程度のモーターをを使ったロボットなどを動作させるのに必要な性能を備えています。
                    </p>
                    <p><strong>定格出力</strong>（実際に出力可能な電力は電源に依存します）</p>
                    <div class="table-scroll">
                        <table class="excel-table" aria-label="DCモータ出力スペック" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th>項目</th>
                                    <th>2個同時使用時</th>
                                    <th>1個のみ使用時</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>電圧</td>
                                    <td colspan="2">4.5 ~ 26V</td>
                                </tr>
                                <tr>
                                    <td>連続電流</td>
                                    <td>1.3 A </td>
                                    <td>1.5 A </td>
                                </tr>
                                <tr>
                                    <td>短時間電流 <small>(90s<sup class="annotation-mark">*1</sup>)</small></td>
                                    <td>1.5 A </td>
                                    <td>—</td>
                                </tr>
                                <tr>
                                    <td>短時間電流 <small>(5s<sup class="annotation-mark">*1</sup>)</small></td>
                                    <td>2.0 A </td>
                                    <td>2.0 A </td>
                                </tr>
                                <tr>
                                    <td>瞬時最大電流</td>
                                    <td colspan="2">3.5 A <small>(モータードライバIC最大絶対定格)</small></td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p style="font-size: smaller;">
                        <sup class="annotation-mark">*1</sup> 時間はテスト結果より安全マージンを取った値です<br>
                    </p>
                </div>
            </div>

            <!-- FET Output Card -->
            <div class="step-card">
                <div class="step-header">
                    <h4 class="step-title" id="fet-output">FET出力</h4>
                </div>
                <div class="step-content">
                    <img src="images/UGOKU-One/UGOKU-One_with_Solenoid.png" alt="FET出力端子図" class="img-responsive"
                        style="max-height: 200px; margin: 0 auto 10px; display: block;">
                    <p>Nch MOSFET (SSM3K333R) によるローサイド出力です。</p>
                    <p>比較的大電力を必要とする電源のオンオフ制御に使用できます。<br>
                        極性があります。
                    </p>
                    <p><strong>定格出力</strong>（実際に出力可能な電力は電源に依存します）</p>
                    <div class="table-scroll">
                        <table class="excel-table" aria-label="FET出力スペック" style="font-size: 0.85rem;">
                            <thead>
                                <tr>
                                    <th>項目</th>
                                    <th>仕様</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>電圧</td>
                                    <td>4.5 ~ 26V</td>
                                </tr>
                                <tr>
                                    <td>連続電流</td>
                                    <td>3.0 A</td>
                                </tr>
                                <tr>
                                    <td>短時間電流 <small>(90s<sup class="annotation-mark">*1</sup>)</small> </td>
                                    <td>5.0 A</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <p style="font-size: smaller;">
                        <sup class="annotation-mark">*1</sup> 時間はテスト結果より安全マージンを取った値です<br>
                    </p>
                </div>
            </div>
        </div>

        <h2 id="imu-section">IMU</h2>
        <div class="display-flex cols-40-60 flex-start" style="align-items: center;">
            <div class="col">
                <img src="images/UGOKU-One/UGOKU-One_IMU.png" alt="IMU" class="img-responsive">
            </div>
            <div class="col" style="min-width:240px; align-self: flex-start;">
                <p>
                    6軸IMUのBMI270を搭載しています。<br>
                    21, 22ピンからI2Cで接続します。<br>
                    基板の中央に配置しています。<br>
                    INT1, INT2ピンはSENSOR_VP, SENSOR_VNに接続されています。
                </p>
            </div>
        </div>
        <p></p>

    </div>

    <footer>
        <p>&copy; 2026 UGOKU Lab</p>
    </footer>

</body>

</html>